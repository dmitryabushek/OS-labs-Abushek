**РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**

**Факультет физико-математических и естественных наук**

**Кафедра прикладной информатики и теории вероятностей**





**ОТЧЕТ**

**ПО ЛАБОРАТОРНОЙ РАБОТЕ №9**

дисциплина: Операционные системы









Студент: Абушек Дмитрий Олегович                                     

`	`Группа: НФИбд-01-20                                       





**МОСКВА**

**Цель работы:** Познакомиться с операционной системой Linux. Получить практические навыки работы с редактором vi, установленным по умолчанию практически во всех дистрибутивах

Примечание – работа выполнялась на MacOs X, некоторые команды могли отличаться, но в отчете я указал команды, предложенные для использования в тексте лабораторной работы. (brew install vi)

**Ход работы:**

**Задание 1:**

1. Создали каталог с именем ~/work/os/lab06 и перешли в него. 

2.Перешли во вновь созданный каталог, использовав команду cd. 

3. Вызвали Vi и создали файл hello.sh. 
![рис1](https://github.com/dmitryabushek/OS-labs-Abushek/blob/Images/lab09imgs/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202021-09-11%20%D0%B2%2022.43.19.png)


4. Нажали клавишу i и ввели следующий текст (предоставленный в лаб.работе). 

  ```
  #!/bin/bash
  HELL=Hello
  function hello {
    LOCAL HELLO=World
    echo $HELLO
    }
  echo $HELLO
  hello 
  ```
![рис2](https://github.com/dmitryabushek/OS-labs-Abushek/blob/Images/lab09imgs/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202021-09-11%20%D0%B2%2022.54.14.png)


5. Нажали клавишу ESC для перехода в командный режим после

завершения ввода текста.

6. Нажали двоеточие (:) для перехода в режим последней строки и

внизу экрана появилось приглашение в виде двоеточия. 

7. Затем Нажали w (записать) и q (выйти), а затем нажмём клавишу <RETURN> для сохранения текста и завершения работы. 

8. Сделали файл исполняемым chmod +x hello.sh 
![рис3](https://github.com/dmitryabushek/OS-labs-Abushek/blob/Images/lab09imgs/vstavit%20tretim%20.png)


**Задание 2:**

1.Вызвали Vi на редактирование файла vi ~/work/os/lab06/hello.sh.

2. Установили курсор на конец слова HELL второй строки. 

3.Затем перешли режим вставки и заменили на HELLO. Нажали <ESC>,чтобы вернуться в командный режим. (рис 5)
![рис4](https://github.com/dmitryabushek/OS-labs-Abushek/blob/Images/lab09imgs/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202021-09-11%20%D0%B2%2023.00.42.png)
4. Установим курсор на четвертую строку и сотрём слово LOCAL.

5. Перешли в режим вставки и набрали текст: local нажали ESC, чтобы

вернуться в командный режим. (рис 5)

6. Установили курсор на последней строке файла. Вставили после неё

строку, содержащую текст: echo $HELLO . (рис 5)



7. Нажали <ESC>, чтобы перейти в командный режим.

8. Удалили последнюю строку. (рис 6)





9. Ввели команду отмены изменений u для отмены последней команды.

(рис 6)
![рис5](https://github.com/dmitryabushek/OS-labs-Abushek/blob/Images/lab09imgs/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202021-09-11%20%D0%B2%2023.06.55.png)
![рис6](https://github.com/dmitryabushek/OS-labs-Abushek/blob/Images/lab09imgs/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202021-09-11%20%D0%B2%2023.07.07.png)


10. Ввели символ: (двоеточие) для перехода в режим последней строки.

Записали произведенные изменения на диск и вышли из vi. (рис 7)



**Вывод:**

Я познакомился с операционной системой Linux. Получил практические

навыки работы с редактором vi, установленным по умолчанию

практически во всех дистрибутивах.

**Контрольные вопросы:**

1. Командный режим позволяет управлять курсором и вводить команды

редактирования.

Режим вставки допускает производить ввод текста. При этом текст не будет

восприниматься, как команды редактирования.

Режим последней строки позволяет производить запись файла на диск и

выходить из редактора Vi. Кроме того, используя этот режим, можно вводить

дополнительные команды редактирования.

2. Если необходимо просто выйти Vi (без сохранения выполненных изменений),

то необходимо в последней строке набрать символ q (или q!).

3. 0 (ноль) - перейти в начало строки;

$ - перейти в конец строки;

G - перейти в конец файла;

nG - перейти на строку номер n.

4. Редактор vi предполагает, что слово - это строка символов, которая может

включать в себя буквы, цифры и символы подчеркивания.

5. 0 (ноль) - перейти в начало строки;

$ - перейти в конец строки;

6. Добавление / вставка текста

а- добавить текст после курсора;

А- добавить текст в конец строки;

i- вставить текст перед курсором;

ni- вставить текст n раз; 

I- вставить текст в начало строки.

Вставка строки

o-вставить строку под курсором;

О- вставить строку над курсором.

Удаление текста

x- удалить один символ в буфер;

dw- удалить одно слово в буфер;

d$- удалить в буфер текст от курсора до конца строки;

d0-(ноль) - удалить в буфер текст от начала строки до позиции курсора;

dd- удалить в буфер одну строку;

10dd- удалить в буфер 10 строк.

Отмена и повтор произведенных изменений

u- отменить последнее изменение;

\- повторить последнее изменение.

Копирование текста в буфер

Y- скопировать строку в буфер;

nY- скопировать n строк в буфер;

yw- скопировать слово в буфер;

Вставка текста из буфера

p- вставить текст из буфера после курсора;

P- вставить текст из буфера перед курсором.

Замена текста

cw - заменить слово;

n cw - заменить n слов;

c$- заменить текст от курсора до конца строки;

r- заменить слово;

R- заменить текст.

Поиск текста

/ <текст> - произвести поиск вперед по тексту указанной строки символов

<текст>;

? <текст> - произвести поиск назад по тексту указанной строки символов

<текст>.

\7. c$ - заменить текст от курсора до конца строки.

\8. u- отменить последнее изменение

\9. Kопирование и перемещение текста

:n,m d-уничтожить строки с n по m

пример: : 3,8d

: i,j m k- переместить строки с i по j , начиная со строки k

пример : : 4,9m12

: i,j t k- копировать строки с i по j на строку k

пример: : 2,5 t 13

: i,j w <имя\_файла>- записать строки с i по j в файл с именем <имя\_файла>

пример: : 5,9 <имя \_файла>.

Запись в файл и выход из редактора

:w- записать измененный текст в файл на диске, не выходя из Vi;

:w <newfile>- записать измененный текст в новый файл с именем <newfile>;

:w! <имя\_файла>- записать измененный текст в файл с именем<имя\_файла> ; -

:wq- записать изменения в файл и выйти из Vi;

:q- выйти из редактора Vi;

:q!- выйти из редактора без записи;

:e!- вернуться в командный режим, отменив все изменения,произведенные со

времени последней записи

10. $ - перемещает курсор в конец строки.

11. Опции редактора Vi позволяют настроить рабочую среду. Для задания опций

используется команда set (в режиме последней строки):

: set all - вывести полный список опций;

: set nu - вывести номера строк;

: set list - вывести невидимые символы;

: set ic - не учитывать при поиске, является ли символ прописным или

строчным.

12. Нажатие клавиши ESC всегда переводит Vi в командный режим (это удобно,

когда вы точно не помните в каком режиме находитесь). Если вы нажмете

клавишу ESC, находясь в командном режиме, машина напомнит вам об этом,

подав звуковой сигнал.

\13. Командный –>вставки– >последняя строка (командная строка).


